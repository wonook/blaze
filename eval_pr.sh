TEST_NAME=PR
EXECUTORS=4
MEM_SIZE=24g

DAG_PATH=None

SAMPLING=false
SAMPLING_TIMEOUT=60
SAMPLING_JOBS=1

#CLASS=org.apache.spark.examples.graphx.PageRankExample
#JAR=/home/wonook/blaze/examples/target/scala-2.11/jars/spark-examples_2.11-2.4.4.jar
CLASS=com.ibm.crail.benchmarks.Main
JAR=/home/wonook/sql-benchmarks/target/sql-benchmarks-1.0.jar
ARGS="-t pagerank -gi 10 -i /twitter_5g"
ITER=10
COST="Recomp"


AUTOUNPERSIST=true

#METRIC=LRU
#./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS
#
#METRIC=LFU
#./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING=true

METRIC=LRC
SAMPLING_JOBS=12
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING_JOBS=8
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING_JOBS=4
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING_JOBS=2
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING_JOBS=1
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

METRIC=MRD
SAMPLING_JOBS=12
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING_JOBS=8
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING_JOBS=4
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING_JOBS=2
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS

SAMPLING_JOBS=1
./run_atc21.sh $TEST_NAME $METRIC $MEM_SIZE $EXECUTORS $DAG_PATH $CLASS $JAR $AUTOUNPERSIST $SAMPLING $SAMPLING_JOBS $SAMPLING_TIMEOUT $ITER $COST $ARGS








